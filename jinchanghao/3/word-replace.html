<!DOCTYPE html>
<html>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta http-equiv="X-UA-Compatible" content="ie=edge">
  <title>word-replace</title>
  <style>
    b{
      color: red;
      font-size: 18px;

    }
    
    .rawtext {
      display: block;
      width: 515px;
      height: 400px;
      text-align: left;
      line-height: 20px;
      position: relative;
      top: 20px;

    }
  </style>
</head>

<body>

  查找：
  <input type="text" name="find" id="find_text" /> 替换：
  <input type="text" name="replace" id="replace_text" />
  <button id="dofind" onclick="findtext()">查找</button>
  <button id="doreplace" onclick="replacetext()">替换</button>
  <div class="rawtext" id="raw">
    <p>一个幽灵，共产主义的幽灵，在欧洲大陆徘徊。为了对这个幽灵进行神圣的围剿，旧欧洲的一切势力，教皇和沙皇、梅特涅和基佐、法国的激进派和德国的警察，都联合起来了。 有哪一个反对党不被它的当政的敌人骂为共产党呢？又有哪一个反对党不拿共产主义这个罪名去回敬更进步的反对党人和自己的反动敌人呢？
    </p>
    <p>从这一事实中可以得出两个结论：</p>
    <p>共产主义已经被欧洲的一切势力公认为一种势力；</p>
    <p>现在是共产党人向全世界公开说明自己的观点、自己的目的、自己的意图并且拿党自己的宣言来反驳关于共产主义幽灵的神话的时候了。</p>
    <p>为了这个目的，各国共产党人集会于伦敦，拟定了如下的宣言，用英文、法文、德文、意大利文、弗拉芒文和丹麦文公布于世。</p>
  </div>


  <script type="text/javascript">
    function findtext() {
      var text = document.getElementById("raw");
      var replacewd = document.getElementById("replace_text").value;
      var keywd = document.getElementById("find_text").value;
      rpwd = "<b>" + keywd + "</b>";
      if (keywd == "") {
        window.alert("请输入您要查询的值~");
      }
      else if (text.innerHTML.indexOf(keywd) == -1) {
        window.alert("没找到符合的哦~");
      }
      else {
      text.innerHTML = text.innerHTML.replace(new RegExp(keywd, "g"), rpwd);
      }
    }


    function replacetext() {
      var text = document.getElementById("raw");
      var replacewd = document.getElementById("replace_text").value;
      var keywd = document.getElementById("find_text").value;
      rpwd = "<b>" + replacewd + "</b>";
      text.innerHTML = text.innerHTML.replace(new RegExp(keywd, "g"), rpwd);
    }

  </script>
</body>

</html>